<!DOCTYPE html>
<html>

<head>

  <title>JSON-Splora</title>
  <meta charset="UTF-8">

  <!-- Base CodeMirror js -->
  <script src="node_modules/codemirror/lib/codemirror.js" type="text/javascript"></script>

  <!-- JSON Lint dependency for CodeMirror linter -->
  <script src="node_modules/jsonlint/lib/jsonlint.js" type="text/javascript"></script>

  <!-- Enable CodeMirror's JavaScript mode, and JSON linter -->
  <script src="node_modules/codemirror/addon/lint/lint.js" type="text/javascript"></script>
  <script src="node_modules/codemirror/addon/lint/json-lint.js" type="text/javascript"></script>
  <script src="node_modules/codemirror/addon/fold/foldcode.js" type="text/javascript"></script>
  <script src="node_modules/codemirror/addon/fold/foldgutter.js" type="text/javascript"></script>
  <script src="node_modules/codemirror/addon/fold/brace-fold.js" type="text/javascript"></script>
  <script src="node_modules/codemirror/addon/fold/comment-fold.js" type="text/javascript"></script>
  <script src="node_modules/codemirror/addon/fold/indent-fold.js" type="text/javascript"></script>
  <script src="node_modules/codemirror/mode/javascript/javascript.js" type="text/javascript"></script>

  <!-- jQuery, jQuery UI -->
  <script type="text/javascript">
    jQuery = require('jquery')
    $ = require('jquery')
  </script>
  <link rel="stylesheet" href="app/vendor/jquery-ui/jquery-ui.css" type="text/css">
  <script src="app/vendor/jquery-ui/jquery-ui.js" type="text/javascript"></script>

  <!-- CodeMirror css -->
  <link rel="stylesheet" href="node_modules/codemirror/lib/codemirror.css" type="text/css">
  <link rel="stylesheet" href="node_modules/codemirror/addon/lint/lint.css" type="text/css">
  <link rel="stylesheet" href="node_modules/codemirror/addon/fold/foldgutter.css" type="text/css">

  <!-- CodeMirror themes -->
  <!-- TODO add more themes and make option -->
  <link rel="stylesheet" href="node_modules/codemirror/theme/mdn-like.css" type="text/css">
  <link rel="stylesheet" href="node_modules/codemirror/theme/elegant.css" type="text/css">
  <link rel="stylesheet" href="node_modules/codemirror/theme/neat.css" type="text/css">
  <link rel="stylesheet" href="node_modules/codemirror/theme/neo.css" type="text/css">

  <!-- JSON-Splora custom css -->
  <link rel="stylesheet" href="app/css/structure.css" type="text/css">
  <link rel="stylesheet" href="app/css/ui.css" type="text/css">

</head>

<body>

  <div class="editor-wrapper">

    <!-- Editor -->
    <div class="panel-left">
      <textarea class="json-input" tabindex="1"></textarea>
    </div>

    <!-- Pannel splitter -->
    <div class="splitter">
    </div>

    <!-- Output -->
    <div class="panel-right">

      <!-- Set tabindex to -1 so that it can't be reached (caused bug that showed pannel) -->
      <textarea class="filter-output" tabindex="-1"></textarea>
    </div>
  </div>

  <!-- Bottom bar / filter input -->
  <div class="bottom-wrapper hidden">
    <div class="filter-icon-wrapper">
      <img class="filter-icon">
    </div>
    <input class="filter-input" tabindex="2">
  </div>

  <!-- Entrypoint -->
  <script>

    // Create global app object
    const App = require('./app/js/App')
    const APP = new App()

    // Create main menu (requires `APP` to be instantiated)
    const {remote} = require('electron')
    const {Menu} = remote
    const menuTemplate = require('./app/system/menu')
    Menu.setApplicationMenu(Menu.buildFromTemplate(menuTemplate))
  </script>
</body>

</html>
